/*! Selectric ÏŸ v1.9.3+ (2016-02-15) - git.io/tjl9sQ - Copyright (c) 2016 Leonardo Santos - Dual licensed: MIT/GPL */
!function(e){"use strict";var s="selectric",t="Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Scroll Group GroupLabel",o=".sl",i={onChange:function(s){e(s).change()},maxHeight:300,keySearchTimeout:500,keys:{select:"9|13|27|32",open:"32|37|38|39|40",close:"9|27"},arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,customClass:{prefix:s,camelCase:!1,overwrite:!0},optionsItemBuilder:"{text}",labelBuilder:"{text}"},n={add:function(e,s,t){this[e]||(this[e]={}),this[e][s]=t},remove:function(e,s){delete this[e][s]}},a={escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(e){for(var s="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" "),t=s.length;t--;)e=e.toLowerCase().replace(RegExp("["+s[t]+"]","g"),"aeiouncy".charAt(t));return e},format:function(e){var s=arguments;return(""+e).replace(/{(\d+|(\w+))}/g,function(e,t,o){return o&&s[1]?s[1][o]:s[t]})},nextEnabledItem:function(e,s){for(;e[s=(s+1)%e.length].disabled;);return s},previousEnabledItem:function(e,s){for(;e[s=(s>0?s:e.length)-1].disabled;);return s},toDash:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,o){var i=o.element,l=o.options["on"+t];e.isFunction(l)&&l.call(i,i,o),n[t]&&e.each(n[t],function(){this.call(i,i,o)}),e(i).trigger(s+"-"+a.toDash(t),o)}},l=e(document),r=e(window),c=function(n,c){function p(s){if(L.options=e.extend(!0,{},i,L.options,s),L.classes={},L.element=n,a.triggerCallback("BeforeInit",L),L.options.disableOnMobile&&G)return void(L.disableOnMobile=!0);k(!0);var o=L.options.customClass,l=t.split(" "),r=P.width();e.each(l,function(e,s){var t=o.prefix+"-"+s;L.classes[s.toLowerCase()]=o.camelCase?t:a.toDash(t)}),T=e("<input/>",{"class":L.classes.input,readonly:G}),D=e("<div/>",{"class":L.classes.items,tabindex:-1}),y=e("<div/>",{"class":L.classes.scroll}),O=e("<div/>",{"class":o.prefix,html:L.options.arrowButtonMarkup}),I=e('<p class="label"/>'),H=P.wrap("<div>").parent().append(O.prepend(I),D,T),$={open:m,close:g,destroy:k,refresh:u,init:p},P.on($).wrap('<div class="'+L.classes.hideselect+'">'),e.extend(L,$),A={open:!1,close:!1,select:!1},e.each(L.options.keys,function(s,t){t&&(e.isArray(t)&&(t=t.join("|")),A[s]=new RegExp("^("+t+")$","i"))}),j=L.options.labelBuilder,L.options.inheritOriginalWidth&&r>0&&H.width(r),d()}function d(){L.items=[];var s=P.children(),t="<ul>",i=P.find("option"),n=i.index(i.filter(":selected")),l=0;E=B=~n?n:0,(R=s.length)&&(s.each(function(){function s(){var s=e(this),o=s.html(),i=s.prop("disabled"),n=s.attr("class"),r=L.options.optionsItemBuilder;L.items[l]={element:s,value:s.val(),text:o,slug:a.replaceDiacritics(o),classes:n,disabled:i},t+=a.format('<li data-index="{1}" class="{2}">{3}</li>',l,e.trim([n,l==E?"selected":"",l==R-1?"last":"",i?"disabled":""].join(" ")),e.isFunction(r)?r(L.items[l],s,l):a.format(r,L.items[l])),l++}var o=e(this);if(o.is("optgroup")){var i=o.prop("disabled"),n=o.children();t+=a.format('<ul class="{1}"><li class="{2}">{3}</li>',e.trim([L.classes.group,i?"disabled":"",o.prop("class")].join(" ")),L.classes.grouplabel,o.prop("label")),i&&n.prop("disabled",!0),n.each(s),t+="</ul>"}else s.call(o)}),D.append(y.html(t+"</ul>")),I.html(e.isFunction(j)?j(L.items[E]):a.format(j,L.items[E]))),O.add(P).add(H).add(T).off(o),H.prop("class",[L.classes.wrapper,L.options.customClass.overwrite?P.prop("class").replace(/\S+/g,L.options.customClass.prefix+"-$&"):P.prop("class"),L.options.responsive?L.classes.responsive:""].join(" ")),P.prop("disabled")?(H.addClass(L.classes.disabled),T.prop("disabled",!0)):(q=!0,H.removeClass(L.classes.disabled).on("mouseenter"+o,function(s){e(this).addClass(L.classes.hover),L.options.openOnHover&&(clearTimeout(L.closeTimer),m())}).on("mouseleave"+o,function(s){e(this).removeClass(L.classes.hover),L.options.openOnHover&&(clearTimeout(L.closeTimer),L.closeTimer=setTimeout(g,L.options.hoverIntentTimeout))}),O.on("click"+o,function(e){Y?g():m(e)}),T.prop({tabindex:z,disabled:!1}).on("keypress"+o,f).on("keydown"+o,function(e){f(e),clearTimeout(L.resetStr),L.resetStr=setTimeout(function(){T.val("")},L.options.keySearchTimeout);var s=e.keyCode||e.which,t=Y?b:w;if(s>36&&41>s){if(!L.options.allowWrap&&(39>s&&0==B||s>38&&B+1==L.items.length))return;t(a[(39>s?"previous":"next")+"EnabledItem"](L.items,B))}}).on("focusin"+o,function(e){H.addClass(L.classes.focus),T.one("blur",function(){T.blur()}),L.options.openOnFocus&&(Y||m(e))}).on("focusout"+o,function(e){H.removeClass(L.classes.focus)}).on("oninput"in T[0]?"input":"keyup",function(){T.val().length&&e.each(L.items,function(e,s){if(RegExp("^"+a.escapeRegExp(T.val()),"i").test(s.slug)&&!s.disabled){var t=Y?b:w;return t(e),!1}})}),P.prop("tabindex",-1),S=e("li",D.removeAttr("style")).on({mousedown:function(e){e.preventDefault(),e.stopPropagation()},click:function(){return w(e(this).data("index"),!0),!1}}).filter("[data-index]")),a.triggerCallback("Init",L)}function u(){a.triggerCallback("Refresh",L),d()}function f(e){var s=e.keyCode||e.which;(13==s||32==s)&&e.preventDefault(),Y?A.select&&A.select.test(s)?(e.stopPropagation(),w(B,!0)):A.close&&A.close.test(s)&&(e.stopPropagation(),B=E,g()):A.open&&A.open.test(s)&&m()}function h(){var e=D.closest(":visible").children(":hidden").addClass(L.classes.tempshow),s=L.options.maxHeight,t=D.outerWidth(),o=O.outerWidth()-(t-D.width());!L.options.expandToItemText||o>t?F=o:(D.css("overflow","scroll"),H.width(9e4),F=D.width(),D.css("overflow",""),H.width("")),D.width(F).height()>s&&D.height(s),e.removeClass(L.classes.tempshow)}function m(t){a.triggerCallback("BeforeOpen",L),t&&(t.preventDefault(),t.stopPropagation()),q&&(h(),e("."+L.classes.hideselect,"."+L.classes.open).children()[s]("close"),Y=!0,W=D.outerHeight(),M=D.height(),H.addClass(L.classes.open),T.val("").is(":focus")||T.focus(),l.on("click"+o,function(s){var t=e(s.target);return t.closest("."+L.classes.items).length||t.is("html")?!1:void g()}).on("scroll"+o,v),v(),L.options.preventWindowScroll&&l.on("mousewheel"+o+" DOMMouseScroll"+o,"."+L.classes.scroll,function(s){var t=s.originalEvent,o=e(this).scrollTop(),i=0;"detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"deltaY"in t&&(i=-1*t.deltaY),(o==this.scrollHeight-M&&0>i||0==o&&i>0)&&s.preventDefault()}),x(B),a.triggerCallback("Open",L))}function v(){H.toggleClass(L.classes.above,W<=H.offset().top&&H.offset().top+H.outerHeight()+W>r.scrollTop()+r.height())}function g(){a.triggerCallback("BeforeClose",L),l.off(o),H.removeClass(L.classes.open),Y=!1,a.triggerCallback("Close",L)}function b(e,s){void 0!=e&&(L.items[e].disabled||(S.removeClass("focused").eq(B=e).addClass("focused"),x(e),s&&w(e)))}function w(e,s){void 0!=e&&(L.items[e].disabled||(S.removeClass("selected").eq(B=e).addClass("selected"),x(e),C(),s&&g()))}function C(){if(E!=B){a.triggerCallback("BeforeChange",L);var s=L.items[B].text;P.prop("selectedIndex",E=B).data("value",s),I.html(e.isFunction(j)?j(L.items[B]):a.format(j,L.items[B])),a.triggerCallback("Change",L)}}function x(e){var s=S.eq(e).outerHeight(),t=S[e].offsetTop,o=y.scrollTop(),i=t+2*s;y.scrollTop(i>o+W?i-W:o>t-s?t-s:o)}function k(e){q&&(D.add(O).add(T).remove(),!e&&P.removeData(s).removeData("value"),P.prop("tabindex",z).off(o).off($).unwrap().unwrap(),q=!1)}var T,D,y,O,I,H,S,B,E,W,M,F,R,$,A,j,L=this,P=e(n),Y=!1,q=!1,G=/android|ip(hone|od|ad)/i.test(navigator.userAgent),z=P.prop("tabindex");p(c)};e.fn[s]=function(t){return this.each(function(){var o=e.data(this,s);o&&!o.disableOnMobile?""+t===t&&o[t]?o[t]():o.init(t):e.data(this,s,new c(this,t))})},e.fn[s].hooks=n}(jQuery);