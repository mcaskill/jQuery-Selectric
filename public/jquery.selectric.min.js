/*! Selectric ÏŸ v1.9.3 (2016-01-15) - git.io/tjl9sQ - Copyright (c) 2016 Leonardo Santos - Dual licensed: MIT/GPL */
!function(e){"use strict";var t="selectric",s="Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Scroll Group GroupLabel",o=".sl",i={onChange:function(t){e(t).change()},maxHeight:300,keySearchTimeout:500,keys:{select:"9|13|27|32",open:"32|37|38|39|40",close:"9|27"},arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,customClass:{prefix:t,camelCase:!1,overwrite:!0},optionsItemBuilder:"{text}",labelBuilder:"{text}"},n={add:function(e,t,s){this[e]||(this[e]={}),this[e][t]=s},remove:function(e,t){delete this[e][t]}},l={replaceDiacritics:function(e){for(var t="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" "),s=t.length;s--;)e=e.toLowerCase().replace(RegExp("["+t[s]+"]","g"),"aeiouncy".charAt(s));return e},format:function(e){var t=arguments;return(""+e).replace(/{(\d+|(\w+))}/g,function(e,s,o){return o&&t[1]?t[1][o]:t[s]})},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t},toDash:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(s,o){var i=o.element,a=o.options["on"+s];e.isFunction(a)&&a.call(i,i,o),n[s]&&e.each(n[s],function(){this.call(i,i,o)}),e(i).trigger(t+"-"+l.toDash(s),o)}},a=e(document),r=e(window),c=function(n,c){function p(t){if(R.options=e.extend(!0,{},i,R.options,t),R.classes={},R.element=n,l.triggerCallback("BeforeInit",R),R.options.disableOnMobile&&Y)return void(R.disableOnMobile=!0);C(!0);var o=R.options.customClass,a=s.split(" "),r=$.width();e.each(a,function(e,t){var s=o.prefix+"-"+t;R.classes[t.toLowerCase()]=o.camelCase?s:l.toDash(s)}),x=e("<input/>",{"class":R.classes.input,readonly:Y}),k=e("<div/>",{"class":R.classes.items,tabindex:-1}),T=e("<div/>",{"class":R.classes.scroll}),D=e("<div/>",{"class":o.prefix,html:R.options.arrowButtonMarkup}),y=e('<p class="label"/>'),O=$.wrap("<div>").parent().append(D.prepend(y),k,x),F={open:m,close:g,destroy:C,refresh:u,init:p},$.on(F).wrap('<div class="'+R.classes.hideselect+'">'),e.extend(R,F),A={open:!1,close:!1,select:!1},e.each(R.options.keys,function(t,s){s&&(e.isArray(s)&&(s=s.join("|")),A[t]=new RegExp("^("+s+")$","i"))}),j=R.options.labelBuilder,R.options.inheritOriginalWidth&&r>0&&O.width(r),d()}function d(){R.items=[];var t=$.children(),s="<ul>",i=$.find("option"),n=i.index(i.filter(":selected")),a=0;S=H=~n?n:0,(E=t.length)&&(t.each(function(){function t(){var t=e(this),o=t.html(),i=t.prop("disabled"),n=t.attr("class"),r=R.options.optionsItemBuilder;R.items[a]={element:t,value:t.val(),text:o,slug:l.replaceDiacritics(o),classes:n,disabled:i},s+=l.format('<li data-index="{1}" class="{2}">{3}</li>',a,e.trim([n,a==S?"selected":"",a==E-1?"last":"",i?"disabled":""].join(" ")),e.isFunction(r)?r(R.items[a],t,a):l.format(r,R.items[a])),a++}var o=e(this);if(o.is("optgroup")){var i=o.prop("disabled"),n=o.children();s+=l.format('<ul class="{1}"><li class="{2}">{3}</li>',e.trim([R.classes.group,i?"disabled":"",o.prop("class")].join(" ")),R.classes.grouplabel,o.prop("label")),i&&n.prop("disabled",!0),n.each(t),s+="</ul>"}else t.call(o)}),k.append(T.html(s+"</ul>")),y.html(e.isFunction(j)?j(R.items[S]):l.format(j,R.items[S]))),D.add($).add(O).add(x).off(o),O.prop("class",[R.classes.wrapper,R.options.customClass.overwrite?$.prop("class").replace(/\S+/g,R.options.customClass.prefix+"-$&"):$.prop("class"),R.options.responsive?R.classes.responsive:""].join(" ")),$.prop("disabled")?(O.addClass(R.classes.disabled),x.prop("disabled",!0)):(P=!0,O.removeClass(R.classes.disabled).on("mouseenter"+o,function(t){e(this).addClass(R.classes.hover),R.options.openOnHover&&(clearTimeout(R.closeTimer),m())}).on("mouseleave"+o,function(t){e(this).removeClass(R.classes.hover),R.options.openOnHover&&(clearTimeout(R.closeTimer),R.closeTimer=setTimeout(g,R.options.hoverIntentTimeout))}),D.on("click"+o,function(e){L?g():m(e)}),x.prop({tabindex:q,disabled:!1}).on("keypress"+o,h).on("keydown"+o,function(e){h(e),clearTimeout(R.resetStr),R.resetStr=setTimeout(function(){x.val("")},R.options.keySearchTimeout);var t=e.keyCode||e.which;if(t>36&&41>t){if(!R.options.allowWrap&&(39>t&&0==H||t>38&&H+1==R.items.length))return;b(l[(39>t?"previous":"next")+"EnabledItem"](R.items,H))}}).on("focusin"+o,function(e){O.addClass(R.classes.focus),x.one("blur",function(){x.blur()}),R.options.openOnFocus&&(L||m(e))}).on("focusout"+o,function(e){O.removeClass(R.classes.focus)}).on("oninput"in x[0]?"input":"keyup",function(){x.val().length&&e.each(R.items,function(e,t){return RegExp("^"+x.val(),"i").test(t.slug)&&!t.disabled?(b(e),!1):void 0})}),$.prop("tabindex",-1),I=e("li",k.removeAttr("style")).on({mousedown:function(e){e.preventDefault(),e.stopPropagation()},click:function(){return b(e(this).data("index"),!0),!1}}).filter("[data-index]")),l.triggerCallback("Init",R)}function u(){l.triggerCallback("Refresh",R),d()}function h(e){var t=e.keyCode||e.which;(13==t||32==t)&&e.preventDefault(),L?A.select&&A.select.test(t)?(e.stopPropagation(),b(H,!0)):A.close&&A.close.test(t)&&(e.stopPropagation(),H=S,g()):A.open&&A.open.test(t)&&m()}function f(){var e=k.closest(":visible").children(":hidden").addClass(R.classes.tempshow),t=R.options.maxHeight,s=k.outerWidth(),o=D.outerWidth()-(s-k.width());!R.options.expandToItemText||o>s?M=o:(k.css("overflow","scroll"),O.width(9e4),M=k.width(),k.css("overflow",""),O.width("")),k.width(M).height()>t&&k.height(t),e.removeClass(R.classes.tempshow)}function m(s){l.triggerCallback("BeforeOpen",R),s&&(s.preventDefault(),s.stopPropagation()),P&&(f(),e("."+R.classes.hideselect,"."+R.classes.open).children()[t]("close"),L=!0,B=k.outerHeight(),W=k.height(),O.addClass(R.classes.open),x.val("").is(":focus")||x.focus(),a.on("click"+o,g).on("scroll"+o,v),v(),R.options.preventWindowScroll&&a.on("mousewheel"+o+" DOMMouseScroll"+o,"."+R.classes.scroll,function(t){var s=t.originalEvent,o=e(this).scrollTop(),i=0;"detail"in s&&(i=-1*s.detail),"wheelDelta"in s&&(i=s.wheelDelta),"wheelDeltaY"in s&&(i=s.wheelDeltaY),"deltaY"in s&&(i=-1*s.deltaY),(o==this.scrollHeight-W&&0>i||0==o&&i>0)&&t.preventDefault()}),w(H),l.triggerCallback("Open",R))}function v(){O.toggleClass(R.classes.above,B<=O.offset().top&&O.offset().top+O.outerHeight()+B>r.scrollTop()+r.height())}function g(){if(l.triggerCallback("BeforeClose",R),S!=H){l.triggerCallback("BeforeChange",R);var t=R.items[H].text;$.prop("selectedIndex",S=H).data("value",t),y.html(e.isFunction(j)?j(R.items[H]):l.format(j,R.items[H])),l.triggerCallback("Change",R)}a.off(o),O.removeClass(R.classes.open),L=!1,l.triggerCallback("Close",R)}function b(e,t){void 0!=e&&(R.items[e].disabled||(I.removeClass("selected").eq(H=e).addClass("selected"),w(e),t&&g()))}function w(e){var t=I.eq(e).outerHeight(),s=I[e].offsetTop,o=T.scrollTop(),i=s+2*t;T.scrollTop(i>o+B?i-B:o>s-t?s-t:o)}function C(e){P&&(k.add(D).add(x).remove(),!e&&$.removeData(t).removeData("value"),$.prop("tabindex",q).off(o).off(F).unwrap().unwrap(),P=!1)}var x,k,T,D,y,O,I,H,S,B,W,M,E,F,A,j,R=this,$=e(n),L=!1,P=!1,Y=/android|ip(hone|od|ad)/i.test(navigator.userAgent),q=$.prop("tabindex");p(c)};e.fn[t]=function(s){return this.each(function(){var o=e.data(this,t);o&&!o.disableOnMobile?""+s===s&&o[s]?o[s]():o.init(s):e.data(this,t,new c(this,s))})},e.fn[t].hooks=n}(jQuery);